{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\robby\\\\Documents\\\\GitHub\\\\550-Project\\\\protest-webapp\\\\client\\\\src\\\\components\\\\Counties.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../style/Dashboard.css';\nimport PageNavbar from './PageNavbar';\nimport Query8Row from './Query8Row';\nexport default class Counties extends React.Component {\n  constructor(props) {\n    super(props); // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n\n    this.state = {\n      query: [],\n      states: [],\n      selectedState: \"\",\n      counties: [],\n      selectedCounty: \"\",\n      tableTitle: [],\n      tableHeader: [],\n      showFields: false\n    };\n    this.showQuery = this.showQuery.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.getCounties = this.getCounties.bind(this);\n  } // React function that is called when the page load.\n\n\n  componentDidMount() {\n    fetch(\"http://localhost:8081/states/query5b\", //change to appropriate URL based on index.js in server folder\n    {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(stateList => {\n      if (!stateList) return;\n      let stateDivs = stateList.map((state_Obj, i) =>\n      /*#__PURE__*/\n      //\n      React.createElement(\"option\", {\n        value: state_Obj.state === 'DISTRICT OF COLUMBIA' ? 'D.C.' : state_Obj.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }\n      }, state_Obj.state === 'DISTRICT OF COLUMBIA' ? 'D.C.' : state_Obj.state)); //\n\n      this.setState({\n        states: stateDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  handleChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedState: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedCounty: e.target.value\n    });\n  }\n\n  getCounties() {\n    var state = this.state.selectedState;\n\n    if (!state || state === \"\") {\n      console.log(\"No state was chosen\");\n    }\n\n    fetch(`http://localhost:8081/counties/query8b/${state}`, //change to appropriate URL based on index.js in server folder\n    {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(countyList => {\n      if (!countyList) return;\n      let countyDivs = countyList.map((county_Obj, i) =>\n      /*#__PURE__*/\n      //\n      React.createElement(\"option\", {\n        value: county_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : county_Obj.county,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }, county_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : county_Obj.county)); //\n\n      this.setState({\n        counties: countyDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }); // if (state === 'D.C.' || state === 'DISTRICT OF COLUMBIA') {\n    //   let entry = [];\n    //   entry.push('DISTRICT OF COLUMBIA');\n    //   this.setState({\n    //     counties: entry\n    //   });\n    // }\n  }\n\n  showQuery() {\n    var state = this.state.selectedState;\n    var county = this.state.selectedCounty;\n\n    if (!state || !county || state === \"\" || county === \"\") {\n      console.log(\"No state/county was chosen\");\n    }\n\n    this.setState({\n      showFields: true\n    });\n    fetch(`http://localhost:8081/counties/query8/${county}/${state}`, //change to appropriate URL based on index.js in server folder\n    {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(queryList => {\n      if (!queryList) return;\n      let query8Divs = queryList.map((query8_Obj, i) => /*#__PURE__*/React.createElement(Query8Row, {\n        county: query8_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : query8_Obj.county,\n        state: query8_Obj.state === 'DISTRICT OF COLUMBIA' ? '--' : query8_Obj.state,\n        num_events: query8_Obj.num_events === null ? 0 : query8_Obj.num_events,\n        events_per_100K: query8_Obj.events_per_100K === null ? 0 : query8_Obj.events_per_100K,\n        item_qty: query8_Obj.item_qty === null ? 0 : query8_Obj.item_qty,\n        cost_per_item: query8_Obj.cost_per_item === null ? 0 : query8_Obj.cost_per_item,\n        cost_per_cap: query8_Obj.cost_per_cap === null ? 0 : query8_Obj.cost_per_cap,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }\n      }));\n      let title = [/*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center display-5 font-weight-bold \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }\n      }, \"10 Most Similar Counties\")];\n      let header = [/*#__PURE__*/React.createElement(\"div\", {\n        className: \"query-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 35\n        }\n      }, \"County\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 35\n        }\n      }, \"State\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 35\n        }\n      }, \"Number of Events\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 35\n        }\n      }, \"Events per 100K\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 35\n        }\n      }, \"Item Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 35\n        }\n      }, \"Avg Cost per Item\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 35\n        }\n      }, \"Cost per Capita\")))]; // Set the appropriate state variable to the value returned by the HTTP response from the server.\n\n      this.setState({\n        query: query8Divs,\n        tableTitle: title,\n        tableHeader: header\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  render() {\n    let isPressed = this.state.showFields;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Counties\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"counties\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      class: \"display-3 font-weight-bold text-white outline-this\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, \"County Comparison\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container query-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedState,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"statesDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      select: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, \" -- Select a State -- \"), this.state.states), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"stateSubmitBtn\",\n      onClick: this.getCounties,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedCounty,\n      onChange: this.handleChange2,\n      className: \"dropdown\",\n      id: \"countyDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      select: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, \" -- Select a County -- \"), this.state.counties), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"stateSubmitBtn\",\n      onClick: this.showQuery,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }, \"Submit\"))), isPressed ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container query-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, this.state.tableTitle, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"query-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, this.state.tableHeader, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"results-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, this.state.query)))) : null);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/robby/Documents/GitHub/550-Project/protest-webapp/client/src/components/Counties.js"],"names":["React","PageNavbar","Query8Row","Counties","Component","constructor","props","state","query","states","selectedState","counties","selectedCounty","tableTitle","tableHeader","showFields","showQuery","bind","handleChange","handleChange2","getCounties","componentDidMount","fetch","method","then","res","json","err","console","log","stateList","stateDivs","map","state_Obj","i","setState","e","target","value","countyList","countyDivs","county_Obj","county","queryList","query8Divs","query8_Obj","num_events","events_per_100K","item_qty","cost_per_item","cost_per_cap","title","header","render","isPressed"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../style/Dashboard.css';\r\nimport PageNavbar from './PageNavbar';\r\nimport Query8Row from './Query8Row';\r\n\r\n\r\nexport default class Counties extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // The state maintained by this React Component. This component maintains the list of genres,\r\n    // and a list of movies for a specified genre.\r\n    this.state = {\r\n      query: [],\r\n      states: [],\r\n      selectedState: \"\",\r\n      counties: [],\r\n      selectedCounty: \"\",\r\n      tableTitle: [],\r\n      tableHeader: [],\r\n      showFields: false\r\n    }\r\n    this.showQuery = this.showQuery.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleChange2 = this.handleChange2.bind(this);\r\n    this.getCounties = this.getCounties.bind(this);\r\n  }\r\n\r\n  // React function that is called when the page load.\r\n  componentDidMount() {\r\n\r\n\r\n    fetch(\"http://localhost:8081/states/query5b\",  //change to appropriate URL based on index.js in server folder\r\n    {\r\n      method: 'GET' // The type of HTTP request.\r\n    }).then(res => {\r\n      // Convert the response data to a JSON.\r\n      return res.json();\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    }).then(stateList => {\r\n      if (!stateList) return;\r\n      let stateDivs = stateList.map((state_Obj, i) => //\r\n      <option value={state_Obj.state === 'DISTRICT OF COLUMBIA' ? 'D.C.' : state_Obj.state}>{state_Obj.state === 'DISTRICT OF COLUMBIA' ? 'D.C.' : state_Obj.state}</option>\r\n      );\r\n      //\r\n      this.setState({\r\n        states: stateDivs\r\n      });\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    });\r\n\r\n\r\n  }\r\n\r\n  handleChange(e) {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      selectedState: e.target.value\r\n    });\r\n  }\r\n\r\n  handleChange2(e) {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      selectedCounty: e.target.value\r\n    });\r\n  }\r\n\r\n  getCounties() {\r\n    var state = this.state.selectedState;\r\n    if (!state || state === \"\" ) {\r\n      console.log(\"No state was chosen\");\r\n    }\r\n\r\n    fetch(`http://localhost:8081/counties/query8b/${state}`,  //change to appropriate URL based on index.js in server folder\r\n    {\r\n      method: 'GET' // The type of HTTP request.\r\n    }).then(res => {\r\n      // Convert the response data to a JSON.\r\n      return res.json();\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    }).then(countyList => {\r\n      if (!countyList) return;\r\n      let countyDivs = countyList.map((county_Obj, i) => //\r\n      <option value={county_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : county_Obj.county}>{county_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : county_Obj.county}</option>\r\n      );\r\n      //\r\n      this.setState({\r\n        counties: countyDivs\r\n      });\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    });\r\n\r\n    // if (state === 'D.C.' || state === 'DISTRICT OF COLUMBIA') {\r\n    //   let entry = [];\r\n    //   entry.push('DISTRICT OF COLUMBIA');\r\n    //   this.setState({\r\n    //     counties: entry\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  showQuery() {\r\n    var state = this.state.selectedState;\r\n    var county = this.state.selectedCounty;\r\n    if (!state || !county || state === \"\" || county === \"\") {\r\n      console.log(\"No state/county was chosen\");\r\n    }\r\n\r\n    this.setState({\r\n      showFields: true\r\n    });\r\n\r\n    fetch(`http://localhost:8081/counties/query8/${county}/${state}`,  //change to appropriate URL based on index.js in server folder\r\n    {\r\n      method: 'GET' // The type of HTTP request.\r\n    }).then(res => {\r\n      // Convert the response data to a JSON.\r\n      return res.json();\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    }).then(queryList => {\r\n      if (!queryList) return;\r\n      let query8Divs = queryList.map((query8_Obj, i) =>\r\n      <Query8Row county={query8_Obj.county === 'DISTRICT OF COLUMBIA' ? 'D.C.' : query8_Obj.county} state={query8_Obj.state === 'DISTRICT OF COLUMBIA' ? '--' : query8_Obj.state} num_events={query8_Obj.num_events === null ? 0 : query8_Obj.num_events} events_per_100K={query8_Obj.events_per_100K === null ? 0 : query8_Obj.events_per_100K} item_qty={query8_Obj.item_qty === null ? 0 : query8_Obj.item_qty} cost_per_item={query8_Obj.cost_per_item === null ? 0 : query8_Obj.cost_per_item} cost_per_cap={query8_Obj.cost_per_cap === null ? 0 : query8_Obj.cost_per_cap}/>\r\n      );\r\n      \r\n      let title = [\r\n        <div className=\"text-center display-5 font-weight-bold \">10 Most Similar Counties</div>\r\n      ];\r\n      let header = [\r\n        <div className=\"query-header\"> \r\n          <div className=\"header\"><strong>County</strong></div>\r\n          <div className=\"header\"><strong>State</strong></div>\r\n          <div className=\"header\"><strong>Number of Events</strong></div>\r\n          <div className=\"header\"><strong>Events per 100K</strong></div>\r\n          <div className=\"header\"><strong>Item Quantity</strong></div>\r\n          <div className=\"header\"><strong>Avg Cost per Item</strong></div>\r\n          <div className=\"header\"><strong>Cost per Capita</strong></div>\r\n        </div>\r\n      ];\r\n      // Set the appropriate state variable to the value returned by the HTTP response from the server.\r\n      this.setState({\r\n        query: query8Divs,\r\n        tableTitle: title,\r\n        tableHeader: header\r\n      });\r\n    }, err => {\r\n      // Print the error if there is one.\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n\r\n  render() {  \r\n    let isPressed = this.state.showFields;\r\n    return (\r\n      <div className=\"Counties\">\r\n\r\n        <PageNavbar active=\"counties\" />\r\n        <div class = \"text-center\">\r\n          <h3 class=\"display-3 font-weight-bold text-white outline-this\">County Comparison</h3>\r\n        </div>\r\n\r\n        <div className=\"container query-container\">\r\n          <div className=\"dropdown-container\">\r\n            <select value={this.state.selectedState} onChange={this.handleChange} className=\"dropdown\" id=\"statesDropdown\">\r\n              <option select value> -- Select a State -- </option>\r\n              {this.state.states}\r\n            </select>\r\n            <button className=\"submit-btn\" id=\"stateSubmitBtn\" onClick={this.getCounties}>Submit</button>\r\n          </div>\r\n          <div className=\"dropdown-container\">\r\n            <select value={this.state.selectedCounty} onChange={this.handleChange2} className=\"dropdown\" id=\"countyDropdown\">\r\n              <option select value> -- Select a County -- </option>\r\n              {this.state.counties}\r\n            </select>\r\n            <button className=\"submit-btn\" id=\"stateSubmitBtn\" onClick={this.showQuery}>Submit</button>\r\n          </div>\r\n        </div>\r\n        { isPressed ?\r\n        <div className=\"container query-container\">\r\n          <br></br>\r\n          <div className=\"jumbotron\">\r\n            {this.state.tableTitle}\r\n            <div className=\"query-container\">\r\n              {this.state.tableHeader}\r\n              <div className=\"results-container\" id=\"results\">\r\n                {this.state.query}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : null }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}